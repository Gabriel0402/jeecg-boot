{"remainingRequest":"/Users/chenyang/Documents/jeecg-boot/前端代码/node_modules/thread-loader/dist/cjs.js!/Users/chenyang/Documents/jeecg-boot/前端代码/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!/Users/chenyang/Documents/jeecg-boot/前端代码/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/chenyang/Documents/jeecg-boot/前端代码/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/chenyang/Documents/jeecg-boot/前端代码/src/views/jeecg/ImagCropper.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/chenyang/Documents/jeecg-boot/前端代码/src/views/jeecg/ImagCropper.vue","mtime":1596297340393},{"path":"/Users/chenyang/Documents/jeecg-boot/前端代码/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenyang/Documents/jeecg-boot/前端代码/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenyang/Documents/jeecg-boot/前端代码/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/chenyang/Documents/jeecg-boot/前端代码/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/chenyang/Documents/jeecg-boot/前端代码/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["var _name$components$data;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { VueCropper } from 'vue-cropper';\nexport default (_name$components$data = {\n  name: 'ImagCropper',\n  components: {\n    VueCropper: VueCropper\n  },\n  data: function data() {\n    return {\n      model: false,\n      modelSrc: \"\",\n      crap: false,\n      previews: {},\n      lists: [{\n        img: \"https://avatars2.githubusercontent.com/u/15681693?s=460&v=4\"\n      }, {\n        img: \"http://cdn.xyxiao.cn/Landscape_1.jpg\"\n      }, {\n        img: \"http://cdn.xyxiao.cn/Landscape_2.jpg\"\n      }, {\n        img: \"http://cdn.xyxiao.cn/Landscape_3.jpg\"\n      }, {\n        img: \"http://cdn.xyxiao.cn/Landscape_4.jpg\"\n      }, {\n        img: \"http://cdn.xyxiao.cn/Portrait_1.jpg\"\n      }, {\n        img: \"http://cdn.xyxiao.cn/Portrait_2.jpg\"\n      }],\n      option: {\n        img: \"\",\n        size: 1,\n        full: false,\n        outputType: \"png\",\n        canMove: true,\n        fixedBox: false,\n        original: false,\n        canMoveBox: true,\n        autoCrop: true,\n        // 只有自动截图开启 宽度高度才生效\n        autoCropWidth: 200,\n        autoCropHeight: 150,\n        centerBox: false,\n        high: false,\n        cropData: {},\n        enlarge: 1,\n        mode: 'contain',\n        maxImgSize: 3000,\n        limitMinSize: [100, 120]\n      },\n      example2: {\n        img: \"http://cdn.xyxiao.cn/Landscape_2.jpg\",\n        info: true,\n        size: 1,\n        outputType: \"jpeg\",\n        canScale: true,\n        autoCrop: true,\n        // 只有自动截图开启 宽度高度才生效\n        autoCropWidth: 300,\n        autoCropHeight: 250,\n        fixed: true,\n        // 真实的输出宽高\n        infoTrue: true,\n        fixedNumber: [4, 3]\n      },\n      example3: {\n        img: \"http://cdn.xyxiao.cn/Landscape_1.jpg\",\n        autoCrop: true,\n        autoCropWidth: 200,\n        autoCropHeight: 200,\n        fixedBox: true\n      },\n      downImg: \"#\",\n      previewStyle1: {},\n      previewStyle2: {},\n      previewStyle3: {},\n      previewStyle4: {},\n      code0: '',\n      code1: '',\n      code2: '',\n      code3: '',\n      preview3: ''\n    };\n  },\n  methods: {\n    changeImg: function changeImg() {\n      this.option.img = this.lists[~~(Math.random() * this.lists.length)].img;\n    },\n    startCrop: function startCrop() {\n      // start\n      this.crap = true;\n      this.$refs.cropper.startCrop();\n    },\n    stopCrop: function stopCrop() {\n      //  stop\n      this.crap = false;\n      this.$refs.cropper.stopCrop();\n    },\n    clearCrop: function clearCrop() {\n      // clear\n      this.$refs.cropper.clearCrop();\n    },\n    refreshCrop: function refreshCrop() {\n      // clear\n      this.$refs.cropper.refresh();\n    },\n    changeScale: function changeScale(num) {\n      num = num || 1;\n      this.$refs.cropper.changeScale(num);\n    },\n    rotateLeft: function rotateLeft() {\n      this.$refs.cropper.rotateLeft();\n    },\n    rotateRight: function rotateRight() {\n      this.$refs.cropper.rotateRight();\n    },\n    finish: function finish(type) {\n      var _this = this;\n\n      if (type === \"blob\") {\n        this.$refs.cropper.getCropBlob(function (data) {\n          var img = window.URL.createObjectURL(data);\n          _this.model = true;\n          _this.modelSrc = img;\n        });\n      } else {\n        this.$refs.cropper.getCropData(function (data) {\n          _this.model = true;\n          _this.modelSrc = data;\n        });\n      }\n    },\n    // 实时预览函数\n    realTime: function realTime(data) {\n      var previews = data;\n      var h = 0.5;\n      var w = 0.2;\n      this.previewStyle1 = {\n        width: previews.w + \"px\",\n        height: previews.h + \"px\",\n        overflow: \"hidden\",\n        margin: \"0\",\n        zoom: h\n      };\n      this.previewStyle2 = {\n        width: previews.w + \"px\",\n        height: previews.h + \"px\",\n        overflow: \"hidden\",\n        margin: \"0\",\n        zoom: w\n      };\n      this.previewStyle3 = {\n        width: previews.w + \"px\",\n        height: previews.h + \"px\",\n        overflow: \"hidden\",\n        margin: \"0\",\n        zoom: 100 / previews.w\n      };\n      this.previewStyle4 = {\n        width: previews.w + \"px\",\n        height: previews.h + \"px\",\n        overflow: \"hidden\",\n        margin: \"0\",\n        zoom: 100 / previews.h\n      };\n      this.previews = data;\n    },\n    finish2: function finish2(type) {\n      var _this2 = this;\n\n      this.$refs.cropper2.getCropData(function (data) {\n        _this2.model = true;\n        _this2.modelSrc = data;\n      });\n    },\n    finish3: function finish3(type) {\n      var _this3 = this;\n\n      this.$refs.cropper3.getCropData(function (data) {\n        _this3.model = true;\n        _this3.modelSrc = data;\n      });\n    },\n    down: function down(type) {\n      var _this4 = this;\n\n      // 输出\n      if (type === \"blob\") {\n        this.$refs.cropper.getCropBlob(function (data) {\n          _this4.downImg = window.URL.createObjectURL(data);\n\n          if (window.navigator.msSaveBlob) {\n            var blobObject = new Blob([data]);\n            window.navigator.msSaveBlob(blobObject, \"demo.png\");\n          } else {\n            _this4.$nextTick(function () {\n              _this4.$refs.downloadDom.click();\n            });\n          }\n        });\n      } else {\n        this.$refs.cropper.getCropData(function (data) {\n          _this4.downImg = data;\n\n          if (window.navigator.msSaveBlob) {\n            var blobObject = new Blob([data]);\n            window.navigator.msSaveBlob(blobObject, \"demo.png\");\n          } else {\n            _this4.$nextTick(function () {\n              _this4.$refs.downloadDom.click();\n            });\n          }\n        });\n      }\n    },\n    uploadImg: function uploadImg(e, num) {\n      var _this5 = this;\n\n      //上传图片\n      // this.option.img\n      var file = e.target.files[0];\n\n      if (!/\\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(e.target.value)) {\n        alert(\"图片类型必须是.gif,jpeg,jpg,png,bmp中的一种\");\n        return false;\n      }\n\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        var data;\n\n        if (_typeof(e.target.result) === \"object\") {\n          // 把Array Buffer转化为blob 如果是base64不需要\n          data = window.URL.createObjectURL(new Blob([e.target.result]));\n        } else {\n          data = e.target.result;\n        }\n\n        if (num === 1) {\n          _this5.option.img = data;\n        } else if (num === 2) {\n          _this5.example2.img = data;\n        }\n\n        _this5.$refs.uploadImg.value = '';\n      }; // 转化为blob\n\n\n      reader.readAsArrayBuffer(file);\n    },\n    imgLoad: function imgLoad(msg) {\n      console.log(msg);\n    },\n    cropMoving: function cropMoving(data) {\n      this.option.cropData = data;\n    }\n  }\n}, _defineProperty(_name$components$data, \"components\", {\n  VueCropper: VueCropper\n}), _defineProperty(_name$components$data, \"mounted\", function mounted() {\n  this.changeImg();\n  var list = [].slice.call(document.querySelectorAll(\"pre code\"));\n  list.forEach(function (val, index) {\n    hljs.highlightBlock(val);\n  });\n}), _name$components$data);",null]}